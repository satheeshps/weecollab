<link rel="import" href="../../bower_components/polymer/polymer.html" />
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html" />
<link rel="import" href="../../bower_components/iron-icon/iron-icon.html" />

<dom-module id="profile-img" attributes="src letter">
    <style>
      .profile {
        border-radius: 50%;
        width: 24px;
        height: 24px;
        transition: transform 350ms ease-in-out;
        background-color: #9e9e9e;
        color: white;
        will-change: transform;
      }
      :host([selected]) .profile {
        transform: rotate3d(0,1,0,180deg);
      }
      :host([selected]) img,
      :host([selected]) .letter {
        opacity: 0;
      }
      :host([selected]) iron-icon {
        transform: rotate3d(0,1,0,-180deg) scale(1);
        opacity: 1;
      }
      img,
      .letter {
        border-radius: inherit;
        width: 100%;
        height: 100%;
        transition: opacity 200ms ease-in-out 100ms;
        will-change: opacity;
        text-transform: uppercase;
      }
      iron-icon {
        transition: transform 300ms ease-in-out 100ms;
        will-change: opacity;
        transform: rotate3d(0,1,0,-180deg) scale(0);
        position: absolute !important;
        top: 20%;
        left: 20%;
        opacity: 0;
      }
    </style>
    <template>
      <div class="profile" style="background-color: {{bkcolor}}">
        <template if="{{src}}"><img src="{{src}}"></img></template>
        <template if="{{!src}}">
          <span class="letter" layout horizontal center-center>{{letter}}</span>
        </template>
        <iron-icon id="profile" icon="check"></iron-icon>
      </div>
   </template>
   <script>
      Polymer({
        is: "profile-img",
        properties: {
          bkcolor: String,
          letter: {
            type: String,
            value: "I"
          },
          src: {
            type: String,
            value: ""
          }
        }
      });
  </script>
</dom-module>
